"use strict";function _typeof(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}var popup;!function(){var e=!0,t=0,n=[],o="left",l="small",a="#000",d="top",c=void 0,i={};document.addEventListener("click",function(e){var t=e.currentTarget.activeElement;t&&"a"==t.nodeName.toLowerCase()&&t.blur()});var m=function(e){1==e?++t:--t,c="popup_modal_"+t},r=function(){m(!0);var e=document.createElement("div");e.id="popup_modal_"+t,e.className="popup_modals fade "+d,"string"==typeof l?e.className+=" modal_"+l:"number"==typeof l&&(e.style.width=l+"px");var n=document.createElement("div");n.className="modal_content";var a=document.createElement("div");a.className="modal_buttons "+o,e.appendChild(n),e.appendChild(a),document.body.appendChild(e)},s=function(e,t){var n=!0,o=!1,l=void 0;try{for(var a,d=e[Symbol.iterator]();!(n=(a=d.next()).done);n=!0){var c=a.value;if(c==t)return!0}}catch(i){o=!0,l=i}finally{try{!n&&d["return"]&&d["return"]()}finally{if(o)throw l}}return!1},u=function(e,t){e.className+=" "+t},p=function(e,t){var n=new RegExp("(?:^|\\s)"+t+"(?!\\S)","g");e.className=e.className.replace(n,"")},f=function(){e=!0,o="left",l="small",a="#000",d="top"},y=function(e){document.getElementById(c).getElementsByClassName("modal_buttons")[0].innerHTML="";for(var n in i)if("alert"!=e||1!=Object.keys(i).indexOf(n)){var o=i[n],l=void 0,a=document.createElement("a");a.id=l=o.btn_id+"_"+t,a.className=o.btn_class,a.innerText=o.inner_text,document.getElementById(c).getElementsByClassName("modal_buttons")[0].appendChild(a),document.getElementById(l).addEventListener("click",function(e){_(e)})}},_=function(e){var t=n[n.length-1],o={e:e,proceed:!1};if("click"==e.type?s(e.currentTarget.classList,"btn_pmry")?(o.proceed=!0,console.log("Click proceed : true")):console.log("Click proceed : false"):"keydown"==e.type&&(13==e.keyCode?(o.proceed=!0,console.log("Keydown proceed : true")):console.log("Keydown proceed : false")),t){var l=document.getElementById(c).getElementsByClassName("modal_input")[0];o.input_value=l?l.value:null,setTimeout(function(){t(o)},350)}h(),document.removeEventListener("keydown",b),n.pop()},b=function(e){(13==e.keyCode||27==e.keyCode)&&_(e)},g=function(){document.removeEventListener("keydown",b),document.addEventListener("keydown",b)},v=function(){var e=document.createElement("div");e.className="modal_backdrop fade",e.style.background=a,document.getElementById(c).style.display="block",2>t?document.body.appendChild(e):(p(document.getElementById("popup_modal_"+(t-1)),"in"),console.log("popup_modal_"+(t-1)+" : hidden")),setTimeout(function(){u(document.getElementsByClassName("modal_backdrop")[0],"in"),setTimeout(function(){u(document.getElementById(c),"in"),console.log(c+" : shown")},150)},150);var n=document.getElementById(c).getElementsByClassName("modal_input")[0];n&&n.focus()},h=function(){p(document.getElementById(c),"in"),console.log(c+" : hidden"),setTimeout(function(){document.getElementById(c).style.display="none",2>t&&p(document.getElementsByClassName("modal_backdrop")[0],"in"),setTimeout(function(){if(2>t)document.body.removeChild(document.getElementsByClassName("modal_backdrop")[0]);else{u(document.getElementById("popup_modal_"+(t-1)),"in"),console.log("popup_modal_"+(t-1)+" : shown");var n=document.getElementById("popup_modal_"+(t-1)).getElementsByClassName("modal_input")[0];n&&n.focus(),e&&g()}document.body.removeChild(document.getElementById(c)),m(!1),f()},150)},150)},E=function(t,m,s){var u=99,p="",f=document.createElement("div"),_=void 0,b=void 0;try{if(!m||"object"!==("undefined"==typeof m?"undefined":_typeof(m)))throw"No content specified.";if(!m.content)throw"content not specified";if(f.innerHTML=m.content,void 0!==m.keyboard){if("boolean"!=typeof m.keyboard)throw"keyboard is not type boolean";e=m.keyboard}if(m.placeholder){if("string"!=typeof m.placeholder)throw"placeholder is not type string";p=m.placeholder}if(m.input_length){if("number"!=typeof m.input_length)throw"input_length is not type number";u=m.input_length}if(m.default_btns){if("object"!==_typeof(m.default_btns))throw"default_btns is not type object";var h=m.default_btns;_=h.ok,b=h.cancel}if(i={ok:{btn_id:"btn_ok",btn_class:"btn btn_pmry",inner_text:_||"Ok"},cancel:{btn_id:"btn_cancel",btn_class:"btn btn_sdry",inner_text:b||"Cancel"}},m.custom_btns){if("object"!==_typeof(m.custom_btns))throw"custom_btns is not type object";var E=0;for(var k in m.custom_btns)i[k]={btn_id:"btn_extra_"+ ++E,btn_class:"btn btn_extra",inner_text:m.custom_btns[k]}}if(m.btn_align){if("left"!==m.btn_align&&"right"!==m.btn_align)throw'btn_align is not type string and only accepts value of "left" or "right"';o=m.btn_align}if(m.modal_size){if("number"!=typeof m.modal_size&&"large"!==m.modal_size&&"medium"!==m.modal_size&&"small"!==m.modal_size)throw'modal_size is not type number / string and only accepts value of "small", "medium" or "large"';l=m.modal_size}if(m.bg_overlay_color){if("string"!=typeof m.bg_overlay_color)throw"bg_overlay_color is not type string";a=m.bg_overlay_color}if(m.effect){if("top"!==m.effect&&"bottom"!==m.effect&&"right"!==m.effect&&"left"!==m.effect&&"none"!==m.effect)throw"effect is not type string";d=m.effect}}catch(C){return void console.warn(C+". Rollback.")}if(s?n.push(s):n.push(null),r(),y(t),e&&g(),document.getElementById(c).getElementsByClassName("modal_content")[0].appendChild(f),"prompt"==t){var w=document.createElement("input");w.type="text",w.className="modal_input",w.placeholder=p,w.maxLength=u,w.style.width="100%",document.getElementById(c).getElementsByClassName("modal_content")[0].appendChild(w)}v()},k=function(e,t){E("alert",e,t)},C=function(e,t){E("confirm",e,t)},w=function(e,t){E("prompt",e,t)};popup={alert:k,prompt:w,confirm:C}}();